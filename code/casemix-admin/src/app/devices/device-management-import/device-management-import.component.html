<div class="card" [busy]="isLoadingCard">
    <div class="card-header row">
        <div class="col-2 align-self-center col-center">
            <button type="button" class="btn btn-info btn-lg btn-default-fs col-center" (click)="newUploadClick()">
                {{ "UPLOAD DEVICES" | localize }}
            </button>
        </div>
        <div class="col-10 download-template-container">
            <span class="text-center">
                <h5 class="text-bold">Select Device Template</h5>
            </span>
            <div class="form-row align-items-center">
                <div class="form-group col-md-3">
                    <label class="label-default-fs">{{ "Speciality" | localize }}</label>
                    <select [(ngModel)]="selectedSpecialty" class="form-control form-control-sm col-md-12 select-default-fs" id="BodyStructure"
                        (change)="onSelectSpecialty($event.target.value)"
                        name="Specialty" required>
                        <option *ngFor="let sp of specialties" [value]="sp.id">
                            {{ sp.name }}
                        </option>
                    </select>
                </div>
                <div class="form-group col-md-5">
                    <label class="label-default-fs">{{ "Device Family" | localize }}</label>
                    <select [(ngModel)]="selectedFamily" class="form-control form-control-sm col-md-12 select-default-fs" id="DeviceFamily" name="Family"
                        required>
                        <option *ngFor="let df of deviceFamily" [value]="df.id">
                            {{ df.name }}
                        </option>
                    </select>
                </div>
                <div class="form-group col-md-2">
                    <label class="label-default-fs">{{ "Medical Class" | localize }}</label>
                    <select [(ngModel)]="selectedClass" class="form-control form-control-sm col-md-12 select-default-fs" id="DeviceClass" name="Class"
                        required>
                        <option *ngFor="let dc of deviceClass" [value]="dc.id">
                            Class {{ dc.class }}
                        </option>
                    </select>
                </div>
                <div class="form-group col-md-2">
                    <button type="button" class="btn btn-info btn-lg col-md-12 btn-default-fs btn-download"
                        (click)="downloadClick()">
                        {{ "DOWNLOAD SELECTED TEMPLATE" | localize }}
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="card-body ajax-dt table-responsive">
        <table [busy]="isLoading" datatable [dtOptions]="dtOptionsAdmin" [dtTrigger]="dtTriggerAdmin"
            class="table table-bordered table-striped table-hover text-nowrap" id="documents">
            <thead>
                <tr>
                    <td>{{ 'ID' | localize }}</td>
                    <td>{{ 'Filename' | localize }}</td>
                    <td>{{ 'Date Uploaded' | localize }}</td>
                    <td>{{ 'Specialty' | localize }}</td>
                    <td>{{ 'Device Family' | localize }}</td>
                    <td>{{ 'Medical Class' | localize }}</td>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let document of documents">
                    <td>{{ document.id }}</td>
                    <td>{{ document.filename }}</td>
                    <td>{{ document.dateUploaded | date: 'dd/MM/yyyy' }} {{ document.dateUploaded | date: 'HH:mm:ss' }}
                    </td>
                    <td>{{ document.specialtyName }}</td>
                    <td>{{ document.deviceFamilyName }}</td>
                    <td>{{document.deviceClassName }}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>